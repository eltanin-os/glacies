#!/bin/rc

fn usage {
	printf 'usage: %s setup set\n' >[1=2]
	exit 1
}

fn setup {
	if (! test -f /etc/sets/$1) exit 1
	exec env -i PORTS'='$"PORTS /etc/sets/$1 setup
}

if (test -z $"PORTS) {
	echo $0: missing PORTS environmental variable >[1=2]
	exit 1
}

switch ($1) {
case 'setup'
	shift
	if (! ~ $#* 1) usage
	setup $1
case '*'
	usage
}
